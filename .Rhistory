rmarkdown::render_site
library(rmarkdown)
render_site()
library(WaterML)
server <- "http://odm2wofpy.uwrl.usu.edu:8080/odm2timeseries/soap/cuahsi_1_0/.wsdl"
info <- GetSiteInfo(server, "odm2timeseries:160065_Crosslands")
info
humidity <- GetValues(server, siteCode="odm2timeseries:160065_Crosslands", variableCode="odm2timeseries:Seeed_BME280_humidity", Sys.Date()-7,endDate=Sys.Date()+2 )
head(humidity)
tail(humidity)
str(humidity)
humidity <- GetValues(server, siteCode="odm2timeseries:160065_Crosslands", variableCode="odm2timeseries:Seeed_BME280_humidity", Sys.Date()-7,endDate=Sys.Date()+2 )
tidy <- separate(humidity, time, into=c("date", "time"), sep="T")
tidy$datetime <- paste(tidy$date, " ", tidy$time,sep="")
tidy$datetime <- as.POSIXct(strptime(tidy$datetime,format="%Y-%m-%d %H:%M:%S"))-11*60*60
tidy$date <- as.POSIXct(strptime(tidy$date, format="%Y-%m-%d"))-11*60*60
library(tidyverse)
tidy <- separate(humidity, time, into=c("date", "time"), sep="T")
tidy$datetime <- paste(tidy$date, " ", tidy$time,sep="")
tidy$datetime <- as.POSIXct(strptime(tidy$datetime,format="%Y-%m-%d %H:%M:%S"))-11*60*60
tidy$date <- as.POSIXct(strptime(tidy$date, format="%Y-%m-%d"))-11*60*60
humidity$date <- tidy$date
humidity$datetime <- tidy$datetime
library(ggplot2)
p <- ggplot(humidity, aes(x=datetime, y=DataValue)) +
geom_point(colour="#424949", size=0.5) +
geom_line(colour="grey70",alpha=0.5, linetype="dotted") +
theme_minimal() +
theme(panel.background = element_rect(colour=NA, fill="grey97")) +
xlab("Date") +
ylab("Humidity (%)")
p
library(WaterML)
server <- "http://odm2wofpy.uwrl.usu.edu:8080/odm2timeseries/soap/cuahsi_1_0/.wsdl"
wdepth <- GetValues(server, siteCode="odm2timeseries:160065_Crosslands", variableCode="odm2timeseries:MaxBotix_MB7386_Distance", Sys.Date()-7,endDate=Sys.Date()+2 )
library(tidyverse)
tidy <- separate(wdepth, time, into=c("date", "time"), sep="T")
tidy$datetime <- paste(tidy$date, " ", tidy$time,sep="")
tidy$datetime <- as.POSIXct(strptime(tidy$datetime,format="%Y-%m-%d %H:%M:%S"))-11*60*60
tidy$date <- as.POSIXct(strptime(tidy$date, format="%Y-%m-%d"))-11*60*60
wdepth$datetime <- tidy$datetime
wdepth$date <- tidy$date
wdepth <- wdepth %>% filter(wdepth, DataValue != 0) #keep non zero values
wdepth <- wdepth %>% filter(DataValue != 9999) # error code from sensor
wdepth <- wdepth %>% filter(DataValue < 4000) #
wdepth <- wdepth %>% filter(DataValue > 1000) # depths greater than 3 m
wdepth$Depth = (4000 - wdepth$DataValue)/1000
library(WaterML)
server <- "http://odm2wofpy.uwrl.usu.edu:8080/odm2timeseries/soap/cuahsi_1_0/.wsdl"
info <- GetSiteInfo(server, "odm2timeseries:160065_Crosslands")
info
